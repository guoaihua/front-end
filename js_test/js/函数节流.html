<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="text" placeholder="输入提示" id="input">
	<span id="show">11</span>
	<script>
	var input=document.getElementById("input");
	var show = document.getElementById("show");
	var n=0;

	input.addEventListener("keyup",handle,false);

	function func(){
		console.log(n++);
	}

	function fun(method,delay,duration){
		var timer=null,begin=new Date();
		return function(){   // 此处利用闭包来保存变量timer和begin	
			var context=this ,args=arguments,current=new Date();
			clearTimeout(timer);
			if(current-begin>=duration){
				method.apply(context,args);
				begin=current;
			}else{
				timer = setTimeout(function(){
					method.apply(context,args);
				},delay);
			}
		}
	}

	function handle(){
		fun(func,100,200)();
	}




	</script>
</body>
</html>